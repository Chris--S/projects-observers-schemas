<?xml version="1.0" encoding="UTF-8"?>
<campaign>
  <campaignName>CHIPTS</campaignName>
  <campaignVersion>0.1</campaignVersion>
  <serverUrl>https://www.andwellness.org/app/sensor/upload</serverUrl>

  <surveys>
    <survey>
      <id>sexualEncounter</id>
      <title>Sexual Encounter</title>
      <description>Every survey must have a description.</description>
      <submitText>Every survey must include submitText.</submitText>
      <showSummary>true</showSummary>
      <editSummary>false</editSummary>
      <summaryText>This is the summary text. Our rules state that if showSummary is true, this element cannot be empty.</summaryText>
      <anytime>true</anytime>
    
      <contentList>
      
        <prompt>
          <id>sexualEncounterHowManyHoursAgo</id>
          <displayType>metadata</displayType>
          <displayLabel>Sexual Encounter - How many hours ago</displayLabel>
          <promptText>How many hours ago did it occur?</promptText>
          <abbreviatedText>abbreviatedText must not be empty if showSummary on its parent survey is true.</abbreviatedText>
          <promptType>number</promptType>
           <properties>
            <property>
              <key>min</key>
              <label>0</label>
            </property>
            <property>
              <key>max</key>
              <label>24</label>
            </property>
          </properties>
          <skippable>false</skippable>
        </prompt>
        
        <prompt>
          <id>sexualEncounterPartnerType</id>
          <displayType>category</displayType>
          <displayLabel>Sexual Encounter - Partner Type</displayLabel>
          <promptText>Partner type?</promptText>
          <abbreviatedText>abbreviatedText must not be empty if showSummary on its parent survey is true.</abbreviatedText>
          <promptType>single_choice</promptType>
          <properties>
            <property>
              <key>0</key>
              <label>one-time</label>
            </property>
            <property>
              <key>1</key>
              <label>casual</label>
            </property>
            <property>
              <key>2</key>
              <label>regular</label>
            </property>
          </properties>
          <skippable>false</skippable>
        </prompt>
        
        <prompt>
          <id>sexualEncounterPartnerNickname</id>
          <displayType>category</displayType>
          <displayLabel>Sexual Encounter - Partner Nickname</displayLabel>
          <promptText>Partner nickname?</promptText>
          <abbreviatedText>abbreviatedText must not be empty if showSummary on its parent survey is true.</abbreviatedText>
          <promptType>text</promptType>
          <properties>
            <property>
              <key>min</key>
              <label>1</label>
            </property>
            <property>
              <key>max</key>
              <label>50</label>
            </property>
          </properties>
          <skipLabel>required if skippable is true</skipLabel>
          <skippable>true</skippable>
        </prompt>
        
        
        <prompt>
          <id>sexualEncounterPartnerGender</id>
          <displayType>category</displayType>
          <displayLabel>Sexual Encounter - Partner Gender</displayLabel>
          <promptText>Partner gender?</promptText>
          <abbreviatedText>abbreviatedText must not be empty if showSummary on its parent survey is true.</abbreviatedText>
          <promptType>single_choice</promptType>
          <properties>
            <property>
              <key>0</key>
              <label>male</label>
            </property>
            <property>
              <key>1</key>
              <label>transgender</label>
            </property>
            <property>
              <key>2</key>
              <label>female</label>
            </property>
          </properties>
          <skippable>false</skippable>
        </prompt>
        
        <prompt>
          <id>sexualEncounterPartnerHivStatus</id>
          <displayType>category</displayType>
          <displayLabel>Sexual Encounter - HIV Status</displayLabel>
          <promptText>Partner HIV status?</promptText>
          <abbreviatedText>abbreviatedText must not be empty if showSummary on its parent survey is true.</abbreviatedText>
          <promptType>single_choice</promptType>
          <properties>
            <property>
              <key>0</key>
              <label>positive</label>
            </property>
            <property>
              <key>1</key>
              <label>negative</label>
            </property>
            <property>
              <key>2</key>
              <label>don't know</label>
            </property>
          </properties>
          <skippable>false</skippable>
        </prompt>
        
        <message>
          <messageText>Thr following three questions will ask about each individual  sexual activity you engaged in during this encounter. Start with the first activity, and repeat for each following act.</messageText>
        </message>
        
        <repeatableSet>
          <id>sexualActivityRepeatableSet</id>
          <terminationQuestion>termination question</terminationQuestion>
          <terminationTrueLabel>true</terminationTrueLabel>
          <terminationFalseLabel>false</terminationFalseLabel>
          <terminationSkipEnabled>false</terminationSkipEnabled>
          <prompts>
          
            <prompt>
              <id>sexualEncounterKindOfSex</id>
              <displayType>category</displayType>
              <displayLabel>Sexual Encounter - Kind of Sex</displayLabel>
              <promptText>What kind of sex?</promptText>
              <abbreviatedText>abbreviatedText must not be empty if showSummary on its parent survey is true.</abbreviatedText>
              <promptType>single_choice</promptType>
              <properties>
                <property>
                  <key>0</key>
                  <label>anal</label>
                </property>
                <property>
                  <key>1</key>
                  <label>oral</label>
                </property>
                <property>
                  <key>2</key>
                  <label>vaginal</label>
                </property>
                <property>
                  <key>3</key>
                  <label>other</label>
                </property>
              </properties>
              <skippable>false</skippable>
            </prompt>
            
            <prompt>
              <id>sexualEncounterPositionAnalVaginalOther</id>
              <displayType>category</displayType>
              <displayLabel>Sexual Encounter - Position (Anal, Vaginal, Other)</displayLabel>
              <promptText>Your position?</promptText>
              <abbreviatedText>abbreviatedText must not be empty if showSummary on its parent survey is true.</abbreviatedText>
              <promptType>single_choice</promptType>
              <properties>
                <property>
                  <key>0</key>
                  <label>received/bottom</label>
                </property>
                <property>
                  <key>1</key>
                  <label>inserted/top</label>
                </property>
              </properties>
              <condition>(sexualEncounterKindOfSex == 0 or sexualEncounterKindOfSex == 2 or sexualEncounterKindOfSex == 3)</condition>
              <skippable>false</skippable>
            </prompt>
            
            <prompt>
              <id>sexualEncounterPositionOral</id>
              <displayType>category</displayType>
              <displayLabel>Sexual Encounter - Position (Oral)</displayLabel>
              <promptText>Your position?</promptText>
              <abbreviatedText>abbreviatedText must not be empty if showSummary on its parent survey is true.</abbreviatedText>
              <promptType>single_choice</promptType>
              <properties>
                <property>
                  <key>0</key>
                  <label>received</label>
                </property>
                <property>
                  <key>1</key>
                  <label>performed</label>
                </property>
              </properties>
              <condition>(sexualEncounterKindOfSex == 1)</condition>
              <skippable>false</skippable>
            </prompt>
            
            <prompt>
              <id>sexualEncounterCondom</id>
              <displayType>category</displayType>
              <displayLabel>Sexual Encounter - Condom</displayLabel>
              <promptText>Was a condom used?</promptText>
              <abbreviatedText>abbreviatedText must not be empty if showSummary on its parent survey is true.</abbreviatedText>
              <promptType>single_choice</promptType>
              <properties>
                <property>
                  <key>0</key>
                  <label>yes</label>
                </property>
                <property>
                  <key>1</key>
                  <label>no</label>
                </property>
              </properties>
              <skippable>false</skippable>
            </prompt>

            <prompt>
              <id>sexualEncounterSafety</id>
              <displayType>category</displayType>
              <displayLabel>Sexual Encounter - Safety</displayLabel>
              <promptText>Was safety discussed?</promptText>
              <abbreviatedText>abbreviatedText must not be empty if showSummary on its parent survey is true.</abbreviatedText>
              <promptType>single_choice</promptType>
              <properties>
                <property>
                  <key>0</key>
                  <label>no</label>
                </property>
                <property>
                  <key>1</key>
                  <label>yes (this time)</label>
                </property>
                <property>
                  <key>2</key>
                  <label>yes (previously)</label>
                </property>
              </properties>
              <skippable>false</skippable>
            </prompt>
            
             <prompt>
              <id>sexualEncounterHighOnAlcoholOrDrugs</id>
              <displayType>category</displayType>
              <displayLabel>Sexual Encounter - High on Alcohol or Drugs</displayLabel>
              <promptText>Were you high on alcohol or drugs?</promptText>
              <abbreviatedText>abbreviatedText must not be empty if showSummary on its parent survey is true.</abbreviatedText>
              <promptType>single_choice</promptType>
              <properties>
                <property>
                  <key>0</key>
                  <label>yes</label>
                </property>
                <property>
                  <key>1</key>
                  <label>no</label>
                </property>
              </properties>
              <skippable>false</skippable>
            </prompt>
            
          </prompts>
        </repeatableSet>
      </contentList>
    
    </survey>
  </surveys>
</campaign>