<?xml version="1.0" encoding="UTF-8"?>
<campaign>
  <campaignName>CHIPTS</campaignName>
  <campaignVersion>0.1</campaignVersion>
  <serverUrl>https://www.andwellness.org/app/sensor/upload</serverUrl>

  <surveys>
    <survey>
      <id>sexualEncounter</id>
      <title>Sexual Encounter</title>
      <description>Every survey must have a description.</description>
      <submitText>Every survey must include submitText.</submitText>
      <showSummary>true</showSummary>
      <editSummary>false</editSummary>
      <summaryText>This is the summary text. Our rules state that if showSummary is true, this element cannot be empty.</summaryText>
      <anytime>true</anytime>
    
      <contentList>
      
        <prompt>
          <id>sexualEncounterHowManyHoursAgo</id>
          <displayType>metadata</displayType>
          <displayLabel>Sexual Encounter - How many hours ago</displayLabel>
          <promptText>How many hours ago did it occur?</promptText>
          <abbreviatedText>abbreviatedText must not be empty if showSummary on its parent survey is true.</abbreviatedText>
          <promptType>number</promptType>
           <properties>
            <p>
              <k>min</k>
              <v>0</v>
            </p>
            <p>
              <k>max</k>
              <v>24</v>
            </p>
          </properties>
          <skippable>false</skippable>
        </prompt>
        
        <prompt>
          <id>sexualEncounterPartnerType</id>
          <displayType>category</displayType>
          <displayLabel>Sexual Encounter - Partner Type</displayLabel>
          <promptText>Partner type?</promptText>
          <abbreviatedText>abbreviatedText must not be empty if showSummary on its parent survey is true.</abbreviatedText>
          <promptType>single_choice</promptType>
          <properties>
            <p>
              <k>0</k>
              <v>one-time</v>
            </p>
            <p>
              <k>1</k>
              <v>casual</v>
            </p>
            <p>
              <k>2</k>
              <v>regular</v>
            </p>
          </properties>
          <skippable>false</skippable>
        </prompt>
        
        <prompt>
          <id>sexualEncounterPartnerNickname</id>
          <displayType>category</displayType>
          <displayLabel>Sexual Encounter - Partner Nickname</displayLabel>
          <promptText>Partner nickname?</promptText>
          <abbreviatedText>abbreviatedText must not be empty if showSummary on its parent survey is true.</abbreviatedText>
          <promptType>text</promptType>
          <properties>
            <p>
              <k>min</k>
              <v>1</v>
            </p>
            <p>
              <k>max</k>
              <v>50</v>
            </p>
          </properties>
          <skipLabel>required if skippable is true</skipLabel>
          <skippable>true</skippable>
        </prompt>
        
        
        <prompt>
          <id>sexualEncounterPartnerGender</id>
          <displayType>category</displayType>
          <displayLabel>Sexual Encounter - Partner Gender</displayLabel>
          <promptText>Partner gender?</promptText>
          <abbreviatedText>abbreviatedText must not be empty if showSummary on its parent survey is true.</abbreviatedText>
          <promptType>single_choice</promptType>
          <properties>
            <p>
              <k>0</k>
              <v>male</v>
            </p>
            <p>
              <k>1</k>
              <v>transgender</v>
            </p>
            <p>
              <k>2</k>
              <v>female</v>
            </p>
          </properties>
          <skippable>false</skippable>
        </prompt>
        
        <prompt>
          <id>sexualEncounterPartnerHivStatus</id>
          <displayType>category</displayType>
          <displayLabel>Sexual Encounter - HIV Status</displayLabel>
          <promptText>Partner HIV status?</promptText>
          <abbreviatedText>abbreviatedText must not be empty if showSummary on its parent survey is true.</abbreviatedText>
          <promptType>single_choice</promptType>
          <properties>
            <p>
              <k>0</k>
              <v>positive</v>
            </p>
            <p>
              <k>1</k>
              <v>negative</v>
            </p>
            <p>
              <k>2</k>
              <v>don't know</v>
            </p>
          </properties>
          <skippable>false</skippable>
        </prompt>
        
        <message>
          <messageText>Thr following three questions will ask about each individual  sexual activity you engaged in during this encounter. Start with the first activity, and repeat for each following act.</messageText>
        </message>
        
        <repeatableSet>
          <id>sexualActivityRepeatableSet</id>
          <terminationQuestion>termination question</terminationQuestion>
          <terminationTrueLabel>true</terminationTrueLabel>
          <terminationFalseLabel>false</terminationFalseLabel>
          <terminationSkipEnabled>false</terminationSkipEnabled>
          <prompts>
          
            <prompt>
              <id>sexualEncounterKindOfSex</id>
              <displayType>category</displayType>
              <displayLabel>Sexual Encounter - Kind of Sex</displayLabel>
              <promptText>What kind of sex?</promptText>
              <abbreviatedText>abbreviatedText must not be empty if showSummary on its parent survey is true.</abbreviatedText>
              <promptType>single_choice</promptType>
              <properties>
                <p>
                  <k>0</k>
                  <v>anal</v>
                </p>
                <p>
                  <k>1</k>
                  <v>oral</v>
                </p>
                <p>
                  <k>2</k>
                  <v>vaginal</v>
                </p>
                <p>
                  <k>3</k>
                  <v>other</v>
                </p>
              </properties>
              <skippable>false</skippable>
            </prompt>
            
            <prompt>
              <id>sexualEncounterPositionAnalVaginalOther</id>
              <displayType>category</displayType>
              <displayLabel>Sexual Encounter - Position (Anal, Vaginal, Other)</displayLabel>
              <promptText>Your position?</promptText>
              <abbreviatedText>abbreviatedText must not be empty if showSummary on its parent survey is true.</abbreviatedText>
              <promptType>single_choice</promptType>
              <properties>
                <p>
                  <k>0</k>
                  <v>received/bottom</v>
                </p>
                <p>
                  <k>1</k>
                  <v>inserted/top</v>
                </p>
              </properties>
              <condition>(sexualEncounterKindOfSex == anal or sexualEncounterKindOfSex == vaginal or sexualEncounterKindOfSex == other)</condition>
              <skippable>false</skippable>
            </prompt>
            
            <prompt>
              <id>sexualEncounterPositionOral</id>
              <displayType>category</displayType>
              <displayLabel>Sexual Encounter - Position (Oral)</displayLabel>
              <promptText>Your position?</promptText>
              <abbreviatedText>abbreviatedText must not be empty if showSummary on its parent survey is true.</abbreviatedText>
              <promptType>single_choice</promptType>
              <properties>
                <p>
                  <k>0</k>
                  <v>received</v>
                </p>
                <p>
                  <k>1</k>
                  <v>performed</v>
                </p>
              </properties>
              <condition>(sexualEncounterKindOfSex == oral)</condition>
              <skippable>false</skippable>
            </prompt>
            
            <prompt>
              <id>sexualEncounterCondom</id>
              <displayType>measurement</displayType>
              <displayLabel>Sexual Encounter - Condom</displayLabel>
              <promptText>Was a condom used?</promptText>
              <abbreviatedText>abbreviatedText must not be empty if showSummary on its parent survey is true.</abbreviatedText>
              <promptType>single_choice</promptType>
              <properties>
                <p>
                  <k>0</k>
                  <v>yes</v>
                </p>
                <p>
                  <k>1</k>
                  <v>no</v>
                </p>
              </properties>
              <skippable>false</skippable>
            </prompt>

            <prompt>
              <id>sexualEncounterSafety</id>
              <displayType>category</displayType>
              <displayLabel>Sexual Encounter - Safety</displayLabel>
              <promptText>Was safety discussed?</promptText>
              <abbreviatedText>abbreviatedText must not be empty if showSummary on its parent survey is true.</abbreviatedText>
              <promptType>single_choice</promptType>
              <properties>
                <p>
                  <k>0</k>
                  <v>no</v>
                </p>
                <p>
                  <k>1</k>
                  <v>yes (this time)</v>
                </p>
                <p>
                  <k>2</k>
                  <v>yes (previously)</v>
                </p>
              </properties>
              <skippable>false</skippable>
            </prompt>
            
             <prompt>
              <id>sexualEncounterHighOnAlcoholOrDrugs</id>
              <displayType>measurement</displayType>
              <displayLabel>Sexual Encounter - High on Alcohol or Drugs</displayLabel>
              <promptText>Were you high on alcohol or drugs?</promptText>
              <abbreviatedText>abbreviatedText must not be empty if showSummary on its parent survey is true.</abbreviatedText>
              <promptType>single_choice</promptType>
              <properties>
                <p>
                  <k>0</k>
                  <v>yes</v>
                </p>
                <p>
                  <k>1</k>
                  <v>no</v>
                </p>
              </properties>
              <skippable>false</skippable>
            </prompt>
            
          </prompts>
        </repeatableSet>
      </contentList>
    
    </survey>
  </surveys>
</campaign>